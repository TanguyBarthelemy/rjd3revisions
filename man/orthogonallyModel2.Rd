% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tests.R
\name{orthogonallyModel2}
\alias{orthogonallyModel2}
\title{Orthogonally Model 2}
\usage{
orthogonallyModel2(revisions.view, reference = 1, na.zero = FALSE)
}
\arguments{
\item{revisions.view}{mts object. Vertical or diagonal view of the
`get_revisions()` output}

\item{reference}{Integer. Number of lags to consider.}

\item{na.zero}{Boolean whether missing values should be considered as 0 or
rather as data not (yet) available (the default).}
}
\description{
Linear regression model of R_v on R_\{v-k\} (k = reference)
}
\examples{
## Simulated data
period_range <- seq(as.Date('2011-01-01'),as.Date('2020-10-01'),by='quarter')
qtr <- (as.numeric(substr(period_range,6,7))+2)/3
time_period <- rep(paste0(format(period_range, "\%Y"), "Q", qtr),5)
np <- length(period_range)
rev_date <- c(rep("2021-06-30",np), rep("2021-12-31",np), rep("2022-06-30",np),
            rep("2022-12-31",np), rep("2023-06-30",np))
set.seed(1)
xt <- cumsum(sample(rnorm(1000,0,1), np, TRUE))
rev <- rnorm(np*4,0,.1)
obs_values <- xt
for(i in 1:4) {
  xt <- xt+rev[(1+(i-1)*np):(i*np)]
  obs_values <- c(obs_values,xt)
}
df <- data.frame(rev_date, time_period, obs_values)

## Create vintage and test
vintages <- create_vintages(df, periodicity = 4)
revisions <- get_revisions(vintages, gap = 1)
orthogonallyModel2(revisions$diagonal_view)

}
\seealso{
`revision_analysis()`, `render_report()`
}
